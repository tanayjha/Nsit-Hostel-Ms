{% extends "newapp/home.html" %}
{% load staticfiles %}
{% load material_form %}
{% block title %} Warden - HMS {% endblock %}

{% block extrahead %} 
{% endblock %}

{% block extrastyle %}
<style type="text/css">
	.addcard{
		padding: 2%;
	}
	.details{
		font-size: 22px;
		display : inline;
	}
</style>
{% endblock %}

{% block content %}

<div class="row" id="studennfo">
	<h3 class="center">Student Profile</h3>
	<hr>
	<div class="col s12">
		<ul class="tabs">
			<li class="tab col s4"><a class="active" href="#personal">Personal Details</a></li>
			<li class="tab col s4"><a class="" href="#previous">Previous Hostel Details</a></li>
			<li class="tab col s4"><a class="" href="#fines">Fines</a></li>
		</ul>
	</div>
	<div class="col s12" id="personal">
			<div class="card row addcard">
				<div class="details">Personal Details</div>
					<a href = "{% url 'print-stu-details' username %}"><i class="material-icons">print</i></a>
				<hr>
				<div class="col s12 m8 l8">
					<table>
				  	<tr>
						<td>
							Roll Number :
						</td>
						<td>
							{{s.username}}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Name :
						</td>
						<td>
							{{s.name}}
						</td>
					</tr>
					<tr>
						<td>
							Date of Birth
						</td>
						<td>
							{{ s.date_of_birth }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Hostel :
						</td>
						{% if s.room_number %}
						<td>
							{{ s.room_number.hostel.hostel_name }}
						</td>
						{% else %}
						<td>
							None
						</td>
						{% endif %}
					</tr>
					<tr>
						<td>
							Room Number :
						</td>
						{% if s.room_number %}
						<td>
							{{ s.room_number }}
						</td>
						{% else %}
						<td>None</td>
						{% endif %}
					</tr>
					<tr id="tr1">
						<td>
							Branch :
						</td>
						<td>
							{{ s.branch }}
						</td>
					</tr>
					<tr>
						<td>
							Current Hostel Join Date :
						</td>
						<td>
							{{ s.current_hostel_join_date }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Distance from Nsit :
						</td>
						<td>
							{{ s.distance_from_nsit }}
						</td>
					</tr>
					<tr>
						<td>
							Gender :
						</td>
						<td>
							{{ s.gender }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Blood group : 
						</td>
						<td>
							{{ s.blood_group }}
						</td>
					</tr>
					<tr>
						<td>
							College category :
						</td>
						<td>
							{{ s.college_category }}
						</td>
					</tr>
					<tr>
						<td>
							Phone Number :
						</td>
						<td>
							{{  s.student_phone_num }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Optional Phone number :
						</td>
						<td>
							{{ s.student_optional_phone_num }}
						</td>
					</tr>
					<tr>
						<td>
							Father's Name :
						</td>
						<td>
							{{ s.father_name }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Mother's name :
						</td>
						<td>
							{{ s.mother_name }}
						</td>
					</tr>
					<tr>
						<td>
							Parent's email :
						</td>
						<td>
							{{ s.parent_email }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Parent's phone number :
						</td>
						<td>
							{{ s.parent_phone_num }}
						</td>
					</tr>
					<tr>
						<td>
							Parent's optional phone number :
						</td>
						<td>
							{{ s.parent_optional_phone_num }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Permenant address :
						</td>
						<td>
							{{ s.permanent_address }}
						</td>
					</tr>
					<tr>
						<td>
							Permenant address zipcode :
						</td>
						<td>
							{{ s.permanent_address_zipcode }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Local guardian name :
						</td>
						<td>
							{{ s.local_guardian_name }}
						</td>
					</tr>
					<tr>
						<td>
							Local guardian address :
						</td>
						<td>
							{{ s.local_guardian_address }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Local guardian address zipcode :
						</td>
						<td>
							{{ s.local_guardian_address_zipcode }}
						</td>
					</tr>
					<tr>
						<td>
							Local Guardian Phone Number :
						</td>
						<td>
							{{ s.local_guardian_phone_number }}
						</td>
					</tr>
					<tr id="tr1">
						<td>
							Local Guardian optional phone number :
						</td>
						<td>
							{{ s.local_guardian_optional_phone_num }}
						</td>
					</tr>
					<tr>
						<td>
							Local Guardian Email :
						</td>
						<td>
							{{ s.local_guardian_email }}
						</td>
					</tr>

				  </table>
				</div>
				<div class="col s12 m4 l4">
					{% if s.student_photo %}
					<img class="profilepic" src="{{ s.student_photo.url }}">
					{% else %}
					<img class="profilepic" src="/media/demo.png">
					{% endif %}				
				</div>
			</div>
			</div>

	<div class="col s12" id="previous">
		<div class="card addcard">
			<h5>Previous Hostel history</h5>
			<hr>
			{% if prev|length > 1 %}
			<table class="bordered centered striped">
				<thead>
				<tr >
					<th >
						S.No.
					</th>
					<th >
						Hostel
					</th>
					<th >
						Room no.
					</th>
					<th >
						Join Date
					</th>
					<th >
						Left on
					</th>
				</tr>
					
				</thead>
				<tbody>
				{% for i in prev %}
				<tr>
					<td >
						{{forloop.counter}}
					</td>
					<td >
						{{ i.hostel_name }}
					</td>
					<td >
						{{ i.room_no }}
					</td>
					<td >
						{{ i.hostel_join_date }}
					</td>
					<td >
						{{ i.hostel_leave_date }}
					</td>
				</tr>
				{% endfor %}
					
				</tbody>
			</table>
			{% else %}
			<p>No Recors Available.</p>
			{% endif %}
		</div>
	</div>
	<div class="col s12" id="fines">
		<div class="card addcard">
			<h5>Disciplinary Actions and Fines</h5>
			<hr>
		{% if crim|length > 1 %}
		<table class="striped centered bordered">
			<thead>
			<tr >
				<th >
					S.No.
				</th>
				<th >
					Date
				</th>
				<th >
					Fine amount
				</th>
				<th >
					Paid
				</th>
				<th >
					Description
				</th>
			</tr>
				
			</thead>
			<tbody>
				
			{% for i in crim %}
			<tr>
				<td >
					{{forloop.counter}}
				</td>
				<td >
					{{ i.date_of_action }}
				</td>
				<td >
					{{ i.fine_amount }}
				</td>
				<td >
					{% if i.paid %}
					Yes
					{% else %}
					No
					{% endif %}
				</td>
				<td >{{ i.description }}</td></tr>
			{% endfor %}
			</tbody>
		</table>
		{% else %}
		<p>No Records Available.</p>
		{% endif%}
		</div>
	</div>
</div>
<div class="row">
	<div class="col s12"> 
	</div>
</div>

{% endblock %}

{% block script %}
<script type="text/javascript">
	$('.collapsible-body').css({
		"padding": "2%"
	});
</script>
{% endblock %}